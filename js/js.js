var cuestElement=null,respuestaSelect=[],respuestasMultiple=[],respuestaText=[],respuestaRadio=[],respuestasCheckbox=[],nota=0;function gestionJson(e){var t=JSON.parse(e);for(i=0;i<10;i++)document.getElementsByTagName("h3")[i].innerHTML=t.question[i].title;for(i=0;i<2;i++)respuestaText[i]=t.question[i].answer;for(i=2;i<4;i++){var n=t.question[i].option.length,o=document.getElementsByTagName("select")[i-2];for(respuestaSelect[i]=t.question[i].answer,j=0;j<n;j++){(s=document.createElement("option")).text=t.question[i].option[j],s.value=j+1,o.options.add(s)}}for(i=4;i<6;i++){n=t.question[i].option.length;var a=document.getElementsByTagName("select")[i-2];for(respuestasMultiple[i]=[],j=0;j<n;j++){var s;(s=document.createElement("option")).text=t.question[i].option[j],s.value=j+1,a.options.add(s),respuestasMultiple[i][j]=t.question[i].answer[j]}}for(i=6;i<8;i++){n=t.question[i].option.length;var r,l=document.getElementsByTagName("div")[i+4];for(r=6==i?"opcion7":"opcion8",j=0;j<n;j++){var u=document.createElement("label"),c=document.createElement("input"),m=document.createElement("span"),p=document.createElement("br");l.appendChild(u),u.innerText=t.question[i].option[j],u.appendChild(c),u.appendChild(m),u.className="containerCheck",c.type="checkbox",c.name=r,c.value=j+1,m.className="checkmarkCheck",l.appendChild(p)}}for(i=8;i<10;i++){n=t.question[i].option.length;var d,f=document.getElementsByTagName("div")[i+4];for(respuestaRadio[i]=t.question[i].answer,d=8==i?"opcion9":"opcion10",j=0;j<n;j++){u=document.createElement("label"),c=document.createElement("input"),m=document.createElement("span"),p=document.createElement("br");f.appendChild(u),u.innerText=t.question[i].option[j],u.appendChild(c),u.appendChild(m),u.className="containerRad",c.type="radio",c.name=d,c.value=j+1,m.className="checkmarkRad",f.appendChild(p)}}}function comprobar(){for(i=0;i<2;i++)if(""==cuestElement.elements[i].value)return cuestElement.elements[i].focus(),alert("Debe responder la pregunta "+(i+1)),!1;for(i=2;i<4;i++)if(0==cuestElement.elements[i].selectedIndex)return cuestElement.elements[i].focus(),alert("Debe responder la pregunta "+(i+1)),!1;for(i=4;i<6;i++){var e=!1;for(j=1;j<cuestElement.elements[i].length;j++){cuestElement.elements[i].options[j].selected&&(e=!0)}if(!e)return cuestElement.elements[i].focus(),alert("Debe responder la pregunta "+(i+1)),!1}for(i=6;i<8;i++){var t,n=!1;for(t=6==i?cuestElement.opcion7:cuestElement.opcion8,j=0;j<t.length;j++)t[j].checked&&(n=!0);if(!n)return cuestElement.elements[i+1].focus(),alert("Debe responder la pregunta "+(i+1)),!1}for(i=8;i<10;i++){if(""==(8==i?cuestElement.opcion9:cuestElement.opcion10).value)return cuestElement.elements[i+4].focus(),alert("Debe responder la pregunta "+(i+1)),!1}return!0}function corregir(){for(i=8;i<10;i++){(8==i?cuestElement.opcion9:cuestElement.opcion10).value-1==respuestaRadio[i]&&nota++}}function notaFinal(){alert("Tu resultado final es "+nota.toFixed(2))}window.onload=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionJson(this.responseText)},e.open("GET","https://rawgit.com/LuisMurcia/Examen-web/master/json/json.json",!0),e.send(),cuestElement=document.getElementById("cuestionario"),document.getElementById("corregirTecla").onclick=function(){corregir(),notaFinal()}};
